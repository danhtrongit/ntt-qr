<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trang Ch·ªß - H·ªá Th·ªëng M√£ Khuy·∫øn M√£i QR</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <a href="/dashboard" class="nav-brand">üéØ QR Promotion</a>
            <ul class="nav-menu">
                <li class="nav-item">
                    <a href="/dashboard" class="nav-link active">Trang Ch·ªß</a>
                </li>
                <li class="nav-item">
                    <a href="/validate" class="nav-link">Ki·ªÉm Tra M√£</a>
                </li>
                <li class="nav-item">
                    <a href="/change-password" class="nav-link">ƒê·ªïi M·∫≠t Kh·∫©u</a>
                </li>
            </ul>
            <div class="nav-user">
                <span class="user-info">Xin ch√†o, <span id="username">Admin</span></span>
                <button class="logout-btn" id="logoutBtn">ƒêƒÉng Xu·∫•t</button>
            </div>
        </div>
    </nav>

    <div class="container">
        <header>
            <h1>üìä Trang Ch·ªß</h1>
            <p>Th·ªëng k√™ v√† t·∫°o m√£ khuy·∫øn m√£i</p>
        </header>

        <main>
            <!-- Statistics Section -->
            <section class="card">
                <h2>üìä Th·ªëng K√™ T·ªïng Quan</h2>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="stat-number" id="totalCodes">0</div>
                        <div class="stat-label">T·ªïng m√£ ƒë√£ t·∫°o</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number" id="usedCodes">0</div>
                        <div class="stat-label">M√£ ƒë√£ s·ª≠ d·ª•ng</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number" id="unusedCodes">0</div>
                        <div class="stat-label">M√£ ch∆∞a s·ª≠ d·ª•ng</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number" id="usageRate">0%</div>
                        <div class="stat-label">T·ª∑ l·ªá s·ª≠ d·ª•ng</div>
                    </div>
                </div>
                <button id="refreshStatsBtn" class="btn btn-outline">C·∫≠p nh·∫≠t th·ªëng k√™</button>
            </section>

            <!-- Code Generation Section -->
            <section class="card">
                <h2>üì± T·∫°o M√£ Khuy·∫øn M√£i</h2>
                <p>Nh·∫•n n√∫t b√™n d∆∞·ªõi ƒë·ªÉ t·∫°o m√£ khuy·∫øn m√£i m·ªõi cho kh√°ch h√†ng</p>
                <button id="generateBtn" class="btn btn-primary">
                    <span class="btn-text">T·∫°o M√£ Khuy·∫øn M√£i</span>
                    <span class="loading" style="display: none;">ƒêang t·∫°o...</span>
                </button>
                
                <div id="codeResult" class="result-section" style="display: none;">
                    <div class="code-display">
                        <h3>M√£ khuy·∫øn m√£i ƒë√£ t·∫°o:</h3>
                        <div class="code-value" id="generatedCode"></div>
                    </div>
                    
                    <div class="qr-display">
                        <h3>QR Code cho kh√°ch h√†ng:</h3>
                        <div class="qr-container">
                            <img id="qrCodeImage" src="" alt="QR Code" />
                        </div>
                        <p class="qr-instruction">Kh√°ch h√†ng c√≥ th·ªÉ qu√©t m√£ QR n√†y b·∫±ng ƒëi·ªán tho·∫°i</p>
                        <div class="qr-actions">
                            <button id="printQRBtn" class="btn btn-secondary">In QR Code</button>
                            <button id="downloadQRBtn" class="btn btn-outline">T·∫£i v·ªÅ</button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Recent Codes Section -->
            <section class="card">
                <h2>üìã M√£ G·∫ßn ƒê√¢y</h2>
                <div id="recentCodes" class="recent-codes">
                    <p class="loading-text">ƒêang t·∫£i...</p>
                </div>
            </section>
        </main>
    </div>

    <!-- Toast Notification -->
    <div id="toast" class="toast" style="display: none;">
        <div class="toast-content">
            <span class="toast-message"></span>
            <button class="toast-close">&times;</button>
        </div>
    </div>

    <script src="auth.js"></script>
    <script src="dashboard.js"></script>
</body>
</html>
